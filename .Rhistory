knitr::opts_chunk$set(dev = 'pdf')
df <- data.frame(x = c(1, 2, 3, 4), y= c(3, 4, 5, 6))
knitr::kable(df)
plot(x, y, col = "red")
with(df, plot(x, y, col = "red"))
df <- data.frame(x = c(1.1, 2.2, 3.3, 4.4, 5.5), y= c(3, 4, 5, 6, 7))
knitr::kable(df)
with(df, plot(x, y, col = "red"))
library(raster)
library(raster)
r <- stack(list.files("Datos-ejemplos/", "tif"))
library(raster)
r <- stack(list.files("Datos-ejemplos/", "tif"))
list.files("Datos-ejemplos/", pattern = "tif")
list.files("../Datos-ejemplos/", pattern = "tif")
list.files("../Datos-ejemplos/", pattern = "tif")
library(raster)
r <- stack(list.files("../Datos-ejemplos/", pattern = "tif"))
list.files("../Datos-ejemplos/", pattern = "tif")
library(raster)
r <- stack(list.files("../Datos-ejemplos/", pattern = "tif", full.names = T))
library(raster)
r <- stack(list.files("../Datos-ejemplos/", pattern = "tif", full.names = T))
plot(r)
library(raster)
r <- stack(list.files("../Datos-ejemplos/", pattern = "tif", full.names = T))
plot(r)
library(raster)
r <- stack(list.files("../Datos-ejemplos/", pattern = "tif", full.names = T)[2:3])
plot(r)
pairs(r)
library(raster)
r <- stack(list.files("../Datos-ejemplos/", pattern = "tif", full.names = T))
plot(r)
pairs(r)
r <- stack(list.files("../Datos-ejemplos/", pattern = "tif", full.names = T)[1:2])
plot(r)
pairs(r)
plot(r[[1]][], r[[2]][], xlab = "x", ylab = "y", col = "red")
plot(r2[[1]][], r2[[2]][], xlab = "x", ylab = "y", col = "red")
r2 <- stack(list.files("../Datos-ejemplos/", "tif", full.names = F)[2:3])
r2 <- stack(list.files("../Datos-ejemplos/", "tif", full.names = T)[2:3])
plot(r2)
plot(r2[[1]][], r2[[2]][], xlab = "x", ylab = "y", col = "red")
df <- expand.grid(a = seq(0, 1, 0.1),)
df <- expand.grid(a = seq(0, 1, 0.1),)
df <- expand.grid(a = seq(0, 1, 0.1),
b = seq(0, 1, 0.1),
c = seq(0, 1, 0.1),
d = seq(0, 1, 0.1), e = seq(0, 1, 0.1), f = seq(0, 1, 0.1), g = seq(0, 1, 0.1))
dim(df)
gc()
gc(reset = T)
rm(df)
gc(reset = T)
x <- rnorm(100)
y <- x + rnorm(100, 0, 0.1)
plot(x, y, col = "red")
x <- rnorm(100)
y <- x + rnorm(100, 0, 0.2)
plot(x, y, col = "red")
y <- rnorm(100)
plot(x, y, col = "red")
df <- data.frame(x = x, y = y)
knitr::kable(head(df), caption = "Primeras seis filas de tabla que contiene *X* y *Y*.")
mean(df$x)
mean(df$y)
x <- rnorm(100, mean = 10, sd = 2)
y <- x + rnorm(100, 0, 0.2)
plot(x, y, col = "red")
x <- rnorm(100, mean = 10, sd = 2)
y <- x + rnorm(100, mean = -10, sd = 0.2)
plot(x, y, col = "red")
x <- rnorm(100, mean = 10, sd = 2)
y <- x + rnorm(100, mean = -5, sd = 0.2)
plot(x, y, col = "red")
y <- rnorm(100, mean = 10, sd = 1)
plot(x, y, col = "red")
set.seed(878)
x <- rnorm(100, mean = 10, sd = 2)
y <- x + rnorm(100, mean = -5, sd = 0.2)
plot(x, y, col = "red")
y <- rnorm(100, mean = 10, sd = 1)
plot(x, y, col = "red")
mean(x)
mean(y)
hist(x)
hist(x-mean(x), xlab = expression(X^*))
hist(x)
hist(x-mean(x), xlab = expression(X^"*"))
par(mfrow = c(1, 2))
hist(x, main = "Histograma de X", ylab = "Frecuencia")
hist(x-mean(x), xlab = expression(X^"*"), main = "Histograma de X*", ylab = "Frecuencia")
par(mfrow = c(1, 2))
hist(x, main = "Histograma de X", xlab = "X", ylab = "Frecuencia")
hist(x-mean(x), xlab = expression(X^"*"), main = "Histograma de X*", ylab = "Frecuencia")
head(df)
df <- data.frame(x = x, y = y)
knitr::kable(head(df), caption = "Primeras seis filas de tabla que contiene *X* y *Y*.")
df.1 <- df
df.1$x <- df$x - mean(df$x)
df.1$y <- df$y - mean(df$y)
head(df.1)
df.1$x * df.1$y
6.77684257^2
-0.553122789^2
0.279012587^2
sum(df.1$x^2)
sum(df.1$y^2)
sum(df.1$x^2)/99
sum(df.1$y^2)/99
sqrt(sum(df.1$x^2)/99)
1.98778^2
sqrt(sum(df.1$y^2)/99)
mean(df.1$x*df.1$y)
sqrt(sum(df.1$x^2)/99) * sqrt(sum(df.1$y^2)/99)
mean(df.1$x*df.1$y)/sqrt(sum(df.1$x^2)/99) * sqrt(sum(df.1$y^2)/99)
cor.test(df$x, df$y)
cor.test(x, y)
library(raster)
getwd()
r <- raster("Datos-ejemplos/Var-1.tif")
plot(r)
plot(r)
plot(r)
plot(r)
plot(r)
dev.off()
plot(r)
list.files("Datos-ejemplos", "tif", full.names = T)
r <- stack(list.files("Datos-ejemplos", "tif", full.names = T))
plot(r)
pairs(r)
knitr::opts_chunk$set(dev = 'pdf')
set.seed(878)
x <- rnorm(100, mean = 10, sd = 2)
y <- x + rnorm(100, mean = -5, sd = 0.2)
plot(x, y, col = "red")
set.seed(878)
x <- rnorm(100, mean = 10, sd = 2)
y <- x + rnorm(100, mean = -5, sd = 0.5)
plot(x, y, col = "red")
set.seed(878)
x <- rnorm(100, mean = 10, sd = 2)
y <- x + rnorm(100, mean = -5, sd = 1)
plot(x, y, col = "red")
set.seed(878)
x <- rnorm(100, mean = 10, sd = 2)
y <- x + rnorm(100, mean = -5, sd = 1)
df.1 <- data.frame(x = x, y = y)
library(ggplot2)
ggplot(df.1) + geom_point(aes(x = x, y = y), colour = "red") +
stat_ellipse(level = 0.95) + theme_classic()
set.seed(878)
x <- rnorm(100, mean = 10, sd = 2)
y <- x + rnorm(100, mean = -5, sd = 1)
df.1 <- data.frame(x = x, y = y)
library(ggplot2)
ggplot(df.1, aes(x = x, y = y)) + geom_point(colour = "red") +
stat_ellipse(level = 0.95) + theme_classic()
df.1$x1 <- rnorm(rnorm(100, mean = 10, sd = 4))
ggplot(df.1, aes (x = x1, y = y)) + geom_point(colour = "red") +
stat_ellipse(level = 0.95)
df.1$x1 <- rnorm(rnorm(100, mean = 10, sd = 4))
ggplot(df.1, aes (x = x1, y = y)) + geom_point(colour = "red") +
stat_ellipse(level = 0.95) + theme_classic()
set.seed(878)
x <- rnorm(100, mean = 10, sd = 2)
y <- x + rnorm(100, mean = -5, sd = 1)
df.1 <- data.frame(x = x, y = y)
library(ggplot2)
ggplot(df.1, aes(x = x, y = y)) + geom_point(colour = "red") +
geom_smooth(method = "lm") + theme_classic()
set.seed(878)
x <- rnorm(100, mean = 10, sd = 2)
y <- x + rnorm(100, mean = -5, sd = 1)
df.1 <- data.frame(x = x, y = y)
library(ggplot2)
ggplot(df.1, aes(x = x, y = y)) + geom_point(colour = "red") +
geom_smooth(method = "lm", colour = "black", alpha = 0.5) +
theme_classic()
df.1$x1 <- rnorm(rnorm(100, mean = 10, sd = 4))
ggplot(df.1, aes (x = x1, y = y)) + geom_point(colour = "red") +
geom_smooth(method = "lm", colour = "black", alpha = 0.5) + theme_classic()
knitr::include_graphics("La-recta.png")
reg.lin <- lm(x ~ y, data = df.1)
summary(reg.lin)
reg.lin <- lm(y ~ x, data = df.1)
summary(reg.lin)
reg.lin1 <- lm(y ~ x1, data = df.1)
summary(reg.lin1)
set.seed(19873)
puntos <- coordinates(r)
library(raster)
r <- raster("../Datos-ejemplos/Var-1.tif")
#Para varias capas alineadas
r <- stack(list.files("../Datos-ejemplos/",
"tif", full.names = T))
set.seed(19873)
puntos <- coordinates(r)
puntos <- puntos[sample(1:nrow(puntos), 100),]
puntos <- data.frame(puntos)
puntos$x <- puntos$x + runif(100, -0.1, 0.1)
puntos$y <- puntos$y + runif(100, -0.1, 0.1)
var <- extract(r[[2]], puntos)
puntos$mediciones <- var * rnorm(1, 2, 0.1) + rnorm(100, -150, 20)
puntos <- na.omit(puntos)
knitr::kable(head(puntos), caption = "Primeras seis filas de una base de datos de mediciones colectadas en campo.")
plot(r[[1]])
points(puntos[, c("x", "y")], cex = puntos$mediciones/50)
names(puntos)
head(puntos)
valores.capas <- extract(r, puntos[, c("x", "y")])
puntos <- data.frame(puntos, valores.capas)
valores.capas <- extract(r, puntos[, c("x", "y")])
head(puntos)
summary(m1)
m1 <- lm(mediciones ~ Var.2, puntos)
summary(m1)
val.nuevos <- data.frame(rasterToPoints(r))
preds <- predict(m1, val.nuevos)
val.nuevos <- data.frame(rasterToPoints(r))
preds <- predict(m1, val.nuevos)
preds.r <- rasterFromXYZ(data.frame(val.nuevos[, c("x", "y")], preds))
plot(pred.r)
plot(preds.r)
m2 <- lm(mediciones ~ Var.1, puntos)
m3 <- lm(mediciones ~ Var.3, puntos)
AIC(m1)
AIC(m2)
AIC(m3)
